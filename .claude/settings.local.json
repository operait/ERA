{
  "permissions": {
    "allow": [
      "Bash(npm install:*)",
      "Bash(npm test:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nAdd automated Jest tests for clarification protocol\n\nCreated comprehensive automated tests to prevent regressions in:\n1. ACTIVE vs HYPOTHETICAL detection (v3.1.3 fix)\n2. Sequential Action Workflow (v3.1.2 fix)\n3. Conversation context recognition\n\nFiles Added:\n- src/templates/__tests__/clarification-protocol.test.ts (13 passing tests)\n- jest.config.js (Jest configuration)\n- TEST_CLARIFICATION_PROTOCOL.md (Manual test documentation)\n\nTest Coverage:\n\n1. ACTIVE vs HYPOTHETICAL Detection (5 tests)\n   âœ“ \"my employee\" triggers clarification\n   âœ“ \"My employee\" (capitalized) triggers clarification\n   âœ“ \"our team member\" triggers clarification\n   âœ“ Employee name triggers clarification\n   âœ“ CRITICAL: \"What should I do if MY employee...\" is ACTIVE (v3.1.3 fix)\n\n2. HYPOTHETICAL Situations (2 tests)\n   âœ“ \"an employee\" provides full guidance\n   âœ“ \"someone\" provides full guidance\n\n3. Sequential Action Workflow (3 tests)\n   âœ“ Offers calendar booking, NOT email drafting\n   âœ“ Does NOT offer both call AND email simultaneously\n   âœ“ After call outcome, THEN offers email drafting\n\n4. Conversation Context (1 test)\n   âœ“ Recognizes when user is answering ERA''s question\n\n5. MASTER_PROMPT.md Integration (2 tests)\n   âœ“ Loads MASTER_PROMPT.md successfully\n   âœ“ System prompt includes ACTIVE/HYPOTHETICAL detection rules\n\nTest Results: 13/13 passing\n\nHow to Run:\n```bash\nnpm test -- clarification-protocol.test.ts\nnpm test -- --watch  # Watch mode\nnpm test -- --coverage  # With coverage report\n```\n\nBenefits:\n- Automated regression prevention\n- Catches issues before manual testing\n- Validates MASTER_PROMPT.md changes\n- CI/CD integration ready\n- Fast feedback loop (< 5 seconds)\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")"
    ],
    "deny": [],
    "ask": []
  }
}
