{
  "permissions": {
    "allow": [
      "Bash(git commit -m \"$(cat <<''EOF''\nChange default timezone from Chicago to Eastern - v3.1.7\n\nISSUE: ERA was showing calendar times in Chicago timezone (America/Chicago)\nbut the user''s actual calendar is in Eastern timezone (America/New_York).\n\nThis caused a 1-hour offset where ERA would recommend times that overlapped\nwith actual meetings.\n\nEXAMPLE:\n- User has meeting: 2:30 PM - 4:30 PM Eastern\n- ERA saw it as: 1:30 PM - 3:30 PM Chicago (correct conversion)\n- ERA recommended: 3:30 PM - 4:00 PM Chicago\n- But 3:30 PM Chicago = 4:30 PM Eastern (OVERLAPS with meeting!)\n\nTHE FIX:\nChanged DEFAULT_TIMEZONE from ''America/Chicago'' to ''America/New_York''\n\nNow ERA will correctly display and recommend times in Eastern timezone.\n\nFILES CHANGED:\n- src/services/calendar.ts (DEFAULT_TIMEZONE constant)\n\nVersion: 3.1.7\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git commit -m \"$(cat <<''EOF''\nAdd automatic timezone detection for each user - v3.1.8\n\nISSUE: ERA was using a hardcoded default timezone instead of detecting\neach user''s actual timezone, causing incorrect calendar recommendations\nfor users in different timezones.\n\nTHE FIX: Implemented multi-level automatic timezone detection:\n\n1. **Primary Method**: Fetch from user''s mailbox settings\n   - Attempts to read timezone from Microsoft Graph API mailboxSettings\n   - Requires MailboxSettings.Read permission (see GRAPH_API_PERMISSIONS.md)\n\n2. **Fallback Method**: Detect from calendar events\n   - If mailbox settings fail, reads timezone from first calendar event\n   - Works as long as user has at least one calendar event\n\n3. **Final Fallback**: Use default timezone (America/New_York)\n   - Only used if both detection methods fail\n   - Logs a warning when falling back to default\n\nBENEFITS:\nâœ… Automatically adapts to each user''s timezone\nâœ… No manual configuration needed per user\nâœ… Works across multiple timezones (Eastern, Central, Pacific, etc.)\nâœ… Graceful fallback if API permissions are missing\nâœ… Better logging for troubleshooting timezone issues\n\nFILES CHANGED:\n- src/lib/graph-client.ts (added calendar event fallback detection)\n- src/bot/handlers/calendar-handler.ts (improved timezone handling)\n- GRAPH_API_PERMISSIONS.md (new file - documentation for Graph API setup)\n\nNOTES:\n- Current fallback timezone is America/New_York (Eastern Time)\n- To enable primary detection, add MailboxSettings.Read permission in Azure\n- See GRAPH_API_PERMISSIONS.md for setup instructions\n\nVersion: 3.1.8\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")"
    ],
    "deny": [],
    "ask": []
  }
}
